KERNEL_STACK_BASE equ 0x90000


; Structure of PROCESS
STACK_BASE		equ					0
GSREG			equ	STACK_BASE
FSREG			equ	GSREG			+ 4
ESREG			equ	FSREG			+ 4
DSREG			equ	ESREG			+ 4
EDIREG			equ	DSREG			+ 4
ESIREG			equ	EDIREG			+ 4
EBPREG			equ	ESIREG			+ 4
KERNEL_ESPREG	equ	EBPREG			+ 4
EBXREG			equ	KERNEL_ESPREG	+ 4
EDXREG			equ	EBXREG			+ 4
ECXREG			equ	EDXREG			+ 4
EAXREG			equ	ECXREG			+ 4
RET_ADR			equ	EAXREG			+ 4
INT_NUM			equ RET_ADR			+ 4
ERR_CODE		equ INT_NUM			+ 4
EIPREG			equ	ERR_CODE		+ 4
CSREG			equ	EIPREG			+ 4
EFLAGSREG		equ	CSREG			+ 4
ESPREG			equ	EFLAGSREG		+ 4
SSREG			equ	ESPREG			+ 4
LDTR			equ	SSREG			+ 4
LDT				equ	LDTR			+ 4

TSS_ESP0		equ					4

SIZE_OF_THREAD_CONTEXT equ LDTR
SIZE_OF_STACK equ LDTR
